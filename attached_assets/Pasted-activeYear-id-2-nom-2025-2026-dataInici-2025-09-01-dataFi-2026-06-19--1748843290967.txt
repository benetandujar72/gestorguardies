activeYear: {
  id: 2,
  nom: '2025-2026',
  dataInici: '2025-09-01',
  dataFi: '2026-06-19',
  estat: 'actiu',
  observacions: 'Curs acadèmic 2025-2026\n',
  createdAt: 2025-05-30T17:39:29.575Z
}
Cridant getClassesToSubstitute amb: { sortidaId: 13, anyAcademicId: 2 }
Buscant substitucions per sortida 13, any acadèmic 2
Trobades 2 classes a substituir
Resultat getClassesToSubstitute: [
  {
    id: 23,
    professorId: 11,
    grupId: 37,
    aulaId: 2,
    diaSetmana: 3,
    horaInici: '08:00:00',
    horaFi: '09:00:00',
    assignatura: 'ÀMBIT CIENTÍFICOTECNOLÒGIC TECNOLOGIA',
    professor: { id: 11, nom: 'ANDUJAR', cognoms: 'ANDUJAR' },
    grup: { id: 37, nomGrup: '1rESO A' },
    aula: { id: 2, nomAula: 'A102' }
  },
  {
    id: 22,
    professorId: 11,
    grupId: 37,
    aulaId: 1,
    diaSetmana: 1,
    horaInici: '08:00:00',
    horaFi: '09:00:00',
    assignatura: 'ÀMBIT CIENTÍFICOTECNOLÒGIC MATEMÀTIQUES',
    professor: { id: 11, nom: 'ANDUJAR', cognoms: 'ANDUJAR' },
    grup: { id: 37, nomGrup: '1rESO A' },
    aula: { id: 1, nomAula: 'A101' }
  }
]
5:47:51 AM [express] GET /api/sortides/13/classes-substituir 304 in 284ms :: [{"id":23,"professorId"…
=== INICI RUTA PROFESSORS-DISPONIBLES ===
horariId: 23
activeYear: 2
Buscant professors disponibles per horari 23, any acadèmic undefined
Error en getProfessorsAvailableForSubstitution: error: syntax error at or near "AND"
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async DatabaseStorage.getProfessorsAvailableForSubstitution (/home/runner/workspace/server/storage.ts:1125:22)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:1727:35) {
  length: 93,
  severity: 'ERROR',
  code: '42601',
  detail: undefined,
  hint: undefined,
  position: '877',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'scan.l',
  line: '1244',
  routine: 'scanner_yyerror'
}
Resultat professors disponibles: 0 professors
5:47:53 AM [express] GET /api/horari/23/professors-disponibles 200 in 250ms :: []
=== INICI RUTA PROFESSORS-DISPONIBLES ===
horariId: 22
activeYear: 2
Buscant professors disponibles per horari 22, any acadèmic undefined
Error en getProfessorsAvailableForSubstitution: error: syntax error at or near "AND"
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async DatabaseStorage.getProfessorsAvailableForSubstitution (/home/runner/workspace/server/storage.ts:1125:22)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:1727:35) {
  length: 93,
  severity: 'ERROR',
  code: '42601',
  detail: undefined,
  hint: undefined,
  position: '877',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'scan.l',
  line: '1244',
  routine: 'scanner_yyerror'
}
Resultat professors disponibles: 0 professors
5:47:56 AM [express] GET /api/horari/22/professors-disponibles 200 in 704ms :: []